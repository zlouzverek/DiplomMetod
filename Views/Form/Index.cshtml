@using DiplomMetod.Data.Entites
@model IEnumerable<Form>

@{
    ViewData["Title"] = "Index";
}

<h1 class="mb-4">Форма №1</h1>

<div class="mb-3">
    <a asp-action="ExportToExcel" class="btn btn-primary">Экспорт в Excel</a>
    <a asp-action="ExportToPdf" class="btn btn-primary">Экспорт в PDF</a>
    <a asp-action="CreateQuestion" class="btn btn-primary">Создать вопрос-ответ</a>
    <a asp-action="IndexQuestions" class="btn btn-primary">Просмотреть все вопросы-ответы</a>
    <form asp-action="ImportFromExcel" method="post" enctype="multipart/form-data" class="d-inline-block">
        <input type="file" name="file" accept=".xlsx" class="form-control-file" />
        <input type="submit" value="Загрузить" class="btn btn-secondary" />
    </form>
</div>

<div class="mb-3">
    <a asp-action="Create" class="btn btn-success">Создать методическую рекомендацию по форме №1</a>
</div>

<form asp-action="Index" asp-controller="Forma1" method="get" class="row g-3 mb-4">
    <!-- Ключевые слова -->
    <div class="col-md-2">
        <input name="keyword" class="form-control" placeholder="Ключевые слова" value="@Context.Request.Query["keyword"]" />
    </div>

    <!-- Наименование формы -->
    <div class="col-md-2">
        <input name="nameForma" class="form-control" placeholder="Название формы" value="@Context.Request.Query["nameForma"]" />
    </div>

    <!-- Реквизит карточки -->
    <div class="col-md-2">
        <input name="rek" class="form-control" placeholder="Реквизит" value="@Context.Request.Query["rek"]" />
    </div>

    <!-- Справочник -->
    <div class="col-md-2">
        <input name="sprav" class="form-control" placeholder="Справочник" value="@Context.Request.Query["sprav"]" />
    </div>

    <!-- Код -->
    <div class="col-md-2">
        <input name="kod" class="form-control" placeholder="Код" value="@Context.Request.Query["kod"]" />
    </div>

    <!-- Тема -->
    <div class="col-md-2">
        <input name="tema" class="form-control" placeholder="Тема" value="@Context.Request.Query["tema"]" />
    </div>

    <!-- Инвентарный номер -->
    <div class="col-md-2">
        <input name="inventNomerID" class="form-control" placeholder="Инв. №" value="@Context.Request.Query["inventNomerID"]" />
    </div>

    <!-- Правила -->
    <div class="col-md-2">
        <input name="pravila" class="form-control" placeholder="Правила" value="@Context.Request.Query["pravila"]" />
    </div>

    <!-- Актуальность -->
    <div class="col-md-2">
        <input name="aktual" class="form-control" placeholder="Актуальность" value="@Context.Request.Query["aktual"]" />
    </div>

    <!-- Согласование с ГП -->
    <div class="col-md-2">
        <input name="soglGP" class="form-control" placeholder="Согласование" value="@Context.Request.Query["soglGP"]" />
    </div>

    <!-- Регион -->
    <div class="col-md-2">
        <input name="regionID" class="form-control" placeholder="Регион" value="@Context.Request.Query["regionID"]" />
    </div>

    <!-- Пример -->
    <div class="col-md-2">
        <input name="primer" class="form-control" placeholder="Пример" value="@Context.Request.Query["primer"]" />
    </div>

    <!-- Документ -->
    <div class="col-md-2">
        <input name="document" class="form-control" placeholder="Документ" value="@Context.Request.Query["document"]" />
    </div>

    <!-- Место в документе -->
    <div class="col-md-2">
        <input name="punktDocument" class="form-control" placeholder="Место в док." value="@Context.Request.Query["punktDocument"]" />
    </div>

    <!-- Кем утвержден -->
    <div class="col-md-2">
        <input name="ktoDocument" class="form-control" placeholder="Кем утвержден" value="@Context.Request.Query["ktoDocument"]" />
    </div>

    <!-- Соотношение -->
    <div class="col-md-2">
        <input name="sootnoshenie" class="form-control" placeholder="Соотношение" value="@Context.Request.Query["sootnoshenie"]" />
    </div>

    <!-- Дата утверждения -->
    <div class="col-md-2">
        <input name="dateFilter" type="date" class="form-control" value="@Context.Request.Query["dateFilter"]" />
    </div>

    <!-- Кнопка поиска -->
    <div class="col-auto">
        <button type="submit" class="btn btn-primary">Поиск</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead class="thead-dark">
        <tr>
            <th>@Html.DisplayNameFor(model => model.Id)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
            <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
  
          
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <th>@Html.DisplayNameFor(model => model.Id)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <th>@Html.DisplayNameFor(model => model.FormType.Name)</th>
                <td>
                    <a asp-action="Edit" asp-route-id="@item.FormType.Name" class="btn btn-sm btn-warning">Редактировать</a>
                    <a asp-action="Details" asp-route-id="@item.FormType.Name" class="btn btn-sm btn-info">Просмотр</a>
                    <a asp-action="Delete" asp-route-id="@item.FormType.Name" class="btn btn-sm btn-danger">Удалить</a>
                </td>
            </tr>
        }
    </tbody>
</table>
